<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Split Text Animation</title>
    <style>
        *{margin: 0; padding: 0; box-sizing: border-box;}

        .split-section,.lr-section{padding: 120px 0; background-color: #000; color: #fff;}
        .inner{max-width: 1100px; margin: 0 auto; padding: 0 20px; text-align: center;}
        .split-section h2,.lr-section h2{font-size: 42px; letter-spacing: 0.12em; margin-bottom: 16px;}
        .split-section p.sub,.lr-section p.sub{font-size: 18px; letter-spacing: 0.18em; text-transform: uppercase; opacity: 0.8;}

        /* split span */
        .split-text span{display: inline-block; opacity: 0; transform: translateY(40px); will-change: transform, opacity;}

        .split-lr span{display: inline-block; opacity: 0; transform: translateX(-40px); will-change: transform, opacity;}


    </style>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script>
        $(document).ready(function(){

            gsap.registerPlugin(ScrollTrigger);


            // 텍스트를 span으로 감싸기 (공통)
            function splitText(selector){
                document.querySelectorAll(selector).forEach(function (el) {

                    const text = el.textContent.trim();
                    el.innerHTML = ""; //기존 텍스트 전부 비우기

                    // 글자 쪼개서 span만들기
                    text.split("").forEach(function (ch) {
                        const span = document.createElement("span");
                        span.textContent = ch;
                        el.appendChild(span);
                    });

                });
            }

            splitText(".split-text");
            splitText(".split-lr");


            // 스크롤시 span 순차적 등장(아래 위)
            ScrollTrigger.create({
                trigger: "#effect-split",
                start: "top 80%",
                once: true,
                onEnter: function (){
                    gsap.to("#effect-split .split-text span", {
                        opacity: 1,
                        y: 0,
                        duration: 0.6,
                        ease: "power2.out",
                        stagger: 0.04   //글자간격
                    });
                }
            });
            // 스크롤시 span 순차적 등장(왼 오른) 
            ScrollTrigger.create({
                trigger: "#effect-lr",
                start: "top 80%",
                once: true,
                onEnter: function (){
                    gsap.to("#effect-lr .split-lr span", {
                        opacity: 1,
                        x: 0,
                        duration: 0.6,
                        ease: "power2.out",
                        stagger: 0.04
                    });
                }
            });



        });
    </script>
</head>
<body>


    <section id="effect-split" class="effect-section split-section">
        <div class="inner">
            <h2 class="split-text">
                INTERACTIVE WEB PUBLISHING
            </h2>
            <p class="split-text sub">
                Split Text Animation Example
            </p>
        </div>
    </section>

    <section id="effect-lr" class="effect-section lr-section">
        <div class="inner">
            <h2 class="split-lr">
                INTERACTIVE WEB PUBLISHING
            </h2>
            <p class="split-lr sub">
                Split Text Animation Example / left to right.
            </p>
        </div>
    </section>


    
</body>
</html>